REPRODUCTION NOTES FOR TABLE 1
==============================

Table 1: Firm Level: Pollution Monitoring and Enforcement Activities

From the paper (page 230, Table 1):
- Panel A: Any enforcement action related to air pollution
  - Outcome variables: Any Air, Suspension, Upgrading, Fine, Warning
  - Main specification: Mon<10km × Post interaction
  
- Panel B: Intensity and strictness of enforcement action related to air pollution  
  - Outcome variables: # Air, Low intensity, High intensity, Lenient, Strict
  - Includes interaction with high polluter dummy (Mon<10km × Post × H. Polluter)

Data requirements:
- firm_enf.dta: Contains firm-level enforcement data with:
  - min_dist: distance to closest monitor
  - year, quarter: time variables
  - any_air, any_air_shutdown, any_air_fine, any_air_renovate, any_air_warning: enforcement outcomes
  - id: firm identifier
  - industry: 4-digit industry code
  - prov_id: province identifier
  
Additional data needed:
- Information on high polluters (ESR database) - not directly in the data, but the paper mentions using ESR
- Need to identify firms in ESR database during pre-period (2010-2014)

Key variables to create:
- Mon<10km: dummy for firm within 10km of monitor (min_dist < 10)
- Post: dummy for post-2015 (year >= 2015)
- High polluter indicator (need to identify from context or data)

Specification details from paper:
- Fixed effects: firm, industry-by-time, province-by-time
- Standard errors: clustered at city level
- Sample: firms within 50km of a monitor, started operating before 2010

Panel A outcomes:
1. any_air: any air pollution enforcement (mean: 0.0046)
2. any_air_shutdown: suspension enforcement (mean: 0.0024)
3. any_air_renovate: upgrading enforcement (mean: 0.0025)
4. any_air_fine: fine enforcement (mean: 0.0022)
5. any_air_warning: warning enforcement (mean: 0.00070)

Panel B outcomes:
1. # Air: count of air enforcement actions
2. Low intensity: dummy for receiving only one enforcement action in quarter
3. High intensity: dummy for receiving at least two enforcement actions in quarter
4. Lenient: dummy for receiving only one punishment type among suspension/upgrading/fine
5. Strict: dummy for receiving all three punishment types

Observations: 1,155,296 (from paper)

ASSUMPTIONS:
1. The firm_enf.dta file contains the main analysis sample
2. Post period is defined as year >= 2015
3. High polluter identification: The paper mentions using ESR database. Looking at the data structure, there's no explicit ESR flag in firm_enf.dta, but the paper mentions using firms "identified as high polluters according to ESR during the pre-period"
4. Will need to create intensity and strictness variables from the enforcement action variables
5. Industry variable represents 4-digit industry codes
6. Time variable needs to be created from year and quarter

DATA PROCESSING STEPS:
1. Load firm_enf.dta
2. Create Mon<10km dummy (min_dist < 10)
3. Create Post dummy (year >= 2015)
4. Create time variable from year and quarter
5. Create industry-time and province-time variables for fixed effects
6. For Panel B: create low/high intensity, lenient/strict variables
7. Identify high polluters (may need to use additional information or create proxy)

CHALLENGE: High polluter identification
- The paper mentions ESR database but this isn't directly in firm_enf.dta
- However, looking at the data more carefully, there might be a way to identify these firms
- Will proceed by creating the basic regression without the high polluter interaction first
- For the high polluter interaction, I'll need to make an assumption or find a proxy

UPDATE: Looking at other data files, I don't see an ESR indicator directly. The paper states these are firms from the ESR database responsible for 65% of local emissions. Without this information in the provided data, I'll need to either:
1. Create a proxy based on firm size/industry
2. Skip the high polluter heterogeneity analysis
3. Note this limitation in the output

For reproducibility, I'll create the main results (Panel A fully, Panel B without high polluter heterogeneity) and note the data limitation.

FINAL APPROACH:
- Reproduce Panel A completely
- Reproduce Panel B main effects (without high polluter interaction due to missing ESR data)
- Document this limitation in output
